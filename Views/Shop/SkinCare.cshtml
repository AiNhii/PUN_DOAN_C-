<link rel="stylesheet" href="/shop/skincare.css">
@using PagedList.Core.Mvc;
@using comestic_csharp.Areas.Identity.Data
@model PagedList.Core.IPagedList<comestic_csharp.Models.Product>;

@{
	ViewData["Title"] = "shop" + ViewBag.CurrentPage;
    Layout = "/Views/Shared/_MainLayout.cshtml";
	int PageCurrent = ViewBag.CurrentPage;
	int PageNext = PageCurrent +1;
}

<div class="title-page">
	<div class="title-page" style="background-image: url('/storage/skin.jpg');background-position: center center;background-size: cover;">
    <div class="container">
        <div class="row">
            <div class=" col-md-8 inner-title-page">
                
                <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
                    <ol class="breadcrumb" style="margin-bottom: 26px; background-color: #fafbf8;">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">SkinCare</li>
                        </ol>
                </nav>
                  <div class="section-title" style="padding-bottom: 0px; padding-top: 15px; padding-left: 60px;">
                    <h2>Natural Skin Care Products</h2>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container" style="margin-top: 20px;">
    <div class="row component-item">
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12  component-item-detail">
            <img src="https://i.pinimg.com/564x/f5/96/bc/f596bcf0cc5ffe4b9d6cbeb8dac56519.jpg" alt="" class="photo">
            <div class="component-item-content-detail">
                <h2>1.<small>Quality assurance</small></h2>
                <p>It is a long established fact that a reader will be distracted by the readable.</p>
            </div>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 component-item-detail">
            <img src="https://i.pinimg.com/564x/28/53/30/2853301454237f4c76caccee0b45fcf2.jpg" alt="" class="photo">
            <div class="component-item-content-detail">
                <h2>2.<small>Natutral extracts</small></h2>
                <p>Many desktop publishing packages and web page editors now use Lorem.</p>
            </div>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 component-item-detail">
            <img src="https://i.pinimg.com/564x/56/ed/18/56ed18736b66e6b7e56381c436830ab6.jpg" alt="" class="photo">
            <div class="component-item-content-detail">
                <h2>3.<small>Quality assurance</small></h2>
                <p>All the Lorem Ipsum generators on the Internet tend to repeat predefined.</p>
            </div>
        </div>
    </div>
</div>
<div class="col-12">
                <div class="section-title" style="padding-top: 25px;">
                    <h2>Skin Care</h2>
                </div>
            </div>
<div class="container">
                        <div class="row">
                            @foreach (var item in Model)
                            {
                                <div class="col-lg-3 col-md-6 col-12">
                                    <div class="card card-product mb-3">
                                        <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                        <img class="card-img-top" src="/storage/@item.Photo1" alt="Card image cap">
                                        <div class="card-body">
                                            <h5 class="card-title product-title">@item.Title</h5>
										
                                            <div class="card-text product-price">
                                            @if (@item.CouponId == 1)
                                            {
                                                <span class="price">@item.Price</span>
                                            }
                                            else{
													ShopDbContext context = new ShopDbContext();
                                                    var giamGia = context.Coupons.SingleOrDefault(p => p.Id == @item.CouponId);
                                                    var delPrice = @item.Price /(1- giamGia.Value/100);

                                                    <span class="del-price">@delPrice</span>
                                                    <span class="new-price">@item.Price</span>
                                            }
                                            </div>
                                            @if(User.Identity.IsAuthenticated){
                                                <a class="btn btn-info btn-add-to-cart" asp-route-id="@item.Id" asp-action="AddToCart" asp-controller="ShoppingCart" ><i class="fa fa-shopping-cart"></i></a>
                                            }
                                            else{
                                                <a class="btn btn-info btn-add-to-cart" id="login" asp-area="Identity" asp-page="/Account/Login"><i class="fa fa-shopping-cart"></i></a>
                                            }
                                            <a class="btn btn-outline-success btn-detail" asp-action="Details" asp-controller="Shop" asp-route-id="@item.Id">Xem chi tiáº¿t</a>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
						<div class="row">
							<div class="col col-12"
									<!-- Pagination -->
									<div class="pagination">
										<ul class="pagination-list">
											<pager class="pager-container" list="@Model" options="@PagedListRenderOptions.Full" asp-action="SkinCare" asp-controller="Shop"/>
										</ul>
									</div>
							</div>			<!--/ End Pagination -->
						</div>

</div>